<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Duck TV</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #0b1622; color: #fff; }
    header { background: #ffd700; padding: 15px; text-align: center; font-size: 24px; font-weight: bold; color: #111; }
    .search-bar { text-align: center; margin: 20px; }
    input { width: 50%; padding: 10px; border-radius: 25px; border: none; }
    .filters { text-align: center; margin: 15px; }
    .filters button { 
      margin: 5px; padding: 10px 18px; border: none; border-radius: 20px; 
      background: #ffd700; color: #111; cursor: pointer; font-weight: bold;
      transition: background 0.2s;
    }
    .filters button:hover { background: #e6c200; }
    .row { margin: 20px; }
    .row h2 { margin-left: 10px; }
    .movies { display: flex; gap: 15px; overflow-x: auto; padding: 10px; }
    .movie { background: #111827; padding: 10px; border-radius: 10px; width: 150px; flex-shrink: 0; text-align: center; cursor: pointer; transition: transform 0.2s; }
    .movie:hover { transform: scale(1.05); }
    .movie img { width: 100%; border-radius: 8px; }
    #player-container { text-align: center; margin: 30px; }
    iframe { width: 80%; height: 450px; border-radius: 12px; border: none; }
  </style>
</head>
<body>
  <header>üê• Duck TV</header>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search movies..." onkeyup="filterMovies()">
  </div>

  <div class="filters" id="filterButtons"></div>

  <div id="rows"></div>
  <div class="movies" id="movieList" style="display:none;"></div>

  <div id="player-container">
    <h2>Now Playing</h2>
    <iframe id="player" src=""></iframe>
  </div>

  <script>
    // ‚úÖ Expanded + fixed movie list (good posters only)
    const movies = [
      // ACTION
      { id: "299534", title: "Avengers: Endgame", poster: "https://image.tmdb.org/t/p/w300/ulzhLuWrPK07P1YkdWQLZnQh1JL.jpg", genre: "Action" },
      { id: "299536", title: "Avengers: Infinity War", poster: "https://image.tmdb.org/t/p/w300/7WsyChQLEftFiDOVTGkv3hFpyyt.jpg", genre: "Action" },
      { id: "155", title: "The Dark Knight", poster: "https://image.tmdb.org/t/p/w300/qJ2tW6WMUDux911r6m7haRef0WH.jpg", genre: "Action" },
      { id: "603692", title: "John Wick: Chapter 4", poster: "https://image.tmdb.org/t/p/w300/vZloFAK7NmvMGKE7VkF5UHaz0I.jpg", genre: "Action" },
      { id: "603", title: "The Matrix", poster: "https://image.tmdb.org/t/p/w300/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg", genre: "Action" },

      // DRAMA
      { id: "278", title: "The Shawshank Redemption", poster: "https://image.tmdb.org/t/p/w300/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg", genre: "Drama" },
      { id: "497", title: "The Green Mile", poster: "https://image.tmdb.org/t/p/w300/o0lO84GI7qrG6XFvtsPOSV7CTNa.jpg", genre: "Drama" },
      { id: "550", title: "Fight Club", poster: "https://image.tmdb.org/t/p/w300/bptfVGEQuv6vDTIMVCHjJ9Dz8PX.jpg", genre: "Drama" },
      { id: "13", title: "Forrest Gump", poster: "https://image.tmdb.org/t/p/w300/saHP97rTPS5eLmrLQEcANmKrsFl.jpg", genre: "Drama" },
      { id: "424", title: "Schindler's List", poster: "https://image.tmdb.org/t/p/w300/c8Ass7acuOe4za6DhSattE359gr.jpg", genre: "Drama" },

      // HORROR
      { id: "694", title: "The Shining", poster: "https://image.tmdb.org/t/p/w300/9fgh3Ns1iRzlQNYuJyK0ARQZU7w.jpg", genre: "Horror" },
      { id: "348", title: "Alien", poster: "https://image.tmdb.org/t/p/w300/vfrQk5IPloGg1v9Rzbh2Eg3VGyM.jpg", genre: "Horror" },
      { id: "38142", title: "Paranormal Activity", poster: "https://image.tmdb.org/t/p/w300/vV6mwEvKk1EhR1p9jwC5a3bYH2y.jpg", genre: "Horror" },
      { id: "419430", title: "Get Out", poster: "https://image.tmdb.org/t/p/w300/tFXcEccSQMf3lfhfXKSU9iRBpa3.jpg", genre: "Horror" },
      { id: "424139", title: "Halloween", poster: "https://image.tmdb.org/t/p/w300/bXs0zkv2iGVViZEy78teg2ycDBm.jpg", genre: "Horror" },

      // SCI-FI
      { id: "157336", title: "Interstellar", poster: "https://image.tmdb.org/t/p/w300/gEU2QniE6E77NI6lCU6MxlNBvIx.jpg", genre: "Sci-Fi" },
      { id: "27205", title: "Inception", poster: "https://image.tmdb.org/t/p/w300/qmDpIHrmpJINaRKAfWQfftjCdyi.jpg", genre: "Sci-Fi" },
      { id: "11", title: "Star Wars: A New Hope", poster: "https://image.tmdb.org/t/p/w300/6FfCtAuVAW8XJjZ7eWeLibRLWTw.jpg", genre: "Sci-Fi" },
      { id: "330459", title: "Rogue One: A Star Wars Story", poster: "https://image.tmdb.org/t/p/w300/6t8ES1d12OzWyCGxBeDYLHoaDrT.jpg", genre: "Sci-Fi" },
      { id: "140607", title: "Star Wars: The Force Awakens", poster: "https://image.tmdb.org/t/p/w300/weUSwMdQIa3NaXVzwUoIIcAi85d.jpg", genre: "Sci-Fi" },

      // COMEDY
      { id: "120467", title: "The Grand Budapest Hotel", poster: "https://image.tmdb.org/t/p/w300/nX5XotM9yprCKarRH4fzOq1VM1J.jpg", genre: "Comedy" },
      { id: "607", title: "Men in Black", poster: "https://image.tmdb.org/t/p/w300/uLOmOF5IzWoyrgIF5MfUnh5pa1X.jpg", genre: "Comedy" },
      { id: "9480", title: "Fear and Loathing in Las Vegas", poster: "https://image.tmdb.org/t/p/w300/4BPzYkqUQcTxx7Zx8okYLkS5zN.jpg", genre: "Comedy" },
      { id: "862", title: "Toy Story", poster: "https://image.tmdb.org/t/p/w300/uXDfjJbdP4ijW5hWSBrPrlKpxab.jpg", genre: "Comedy" },
      { id: "585", title: "Monsters, Inc.", poster: "https://image.tmdb.org/t/p/w300/sgheSKxZkttIe8ONsf2s9WfRxga.jpg", genre: "Comedy" }
    ];

    // ‚úÖ Build filter buttons
    function renderFilters() {
      const genres = [...new Set(movies.map(m => m.genre))];
      const filterDiv = document.getElementById("filterButtons");
      filterDiv.innerHTML = `<button onclick="renderAll()">All Movies</button>`;
      genres.forEach(g => {
        const btn = document.createElement("button");
        btn.textContent = g;
        btn.onclick = () => renderGenre(g);
        filterDiv.appendChild(btn);
      });
    }

    // ‚úÖ Build rows by genre
    function renderRows() {
      const genres = [...new Set(movies.map(m => m.genre))];
      const rowsDiv = document.getElementById("rows");
      rowsDiv.innerHTML = "";
      genres.forEach(genre => {
        const row = document.createElement("div");
        row.classList.add("row");
        row.innerHTML = `<h2>${genre}</h2><div class="movies"></div>`;
        const container = row.querySelector(".movies");
        movies.filter(m => m.genre === genre).forEach(movie => {
          container.appendChild(makeMovieDiv(movie));
        });
        rowsDiv.appendChild(row);
      });
    }

    // ‚úÖ Helper to build movie card
    function makeMovieDiv(movie) {
      const div = document.createElement("div");
      div.classList.add("movie");
      div.innerHTML = `<img src="${movie.poster}" alt="${movie.title}"><p>${movie.title}</p>`;
      div.onclick = () => playMovie(movie.id);
      return div;
    }

    // ‚úÖ Render all movies flat
    function renderAll() {
      const rowsDiv = document.getElementById("rows");
      rowsDiv.innerHTML = `<h2>All Movies</h2><div class="movies" id="allMovies"></div>`;
      const container = document.getElementById("allMovies");
      movies.forEach(m => container.appendChild(makeMovieDiv(m)));
    }

    // ‚úÖ Render specific genre
    function renderGenre(genre) {
      const rowsDiv = document.getElementById("rows");
      rowsDiv.innerHTML = `<h2>${genre}</h2><div class="movies" id="genreMovies"></div>`;
      const container = document.getElementById("genreMovies");
      movies.filter(m => m.genre === genre).forEach(m => container.appendChild(makeMovieDiv(m)));
    }

    // ‚úÖ Render search results
    function renderMovies(list) {
      const movieList = document.getElementById("movieList");
      movieList.style.display = "flex";
      movieList.innerHTML = "";
      list.forEach(movie => movieList.appendChild(makeMovieDiv(movie)));
    }

    // ‚úÖ Play movie
    function playMovie(id) {
      document.getElementById("player").src = `https://vidking.net/embed/movie/${id}?autoPlay=true`;
      window.scrollTo({ top: document.getElementById("player-container").offsetTop, behavior: "smooth" });
    }

    // ‚úÖ Filter search
    function filterMovies() {
      const input = document.getElementById("searchInput").value.toLowerCase();
      if (input.trim() === "") {
        document.getElementById("movieList").style.display = "none";
        renderRows();
        return;
      }
      const filtered = movies.filter(m => m.title.toLowerCase().includes(input));
      renderMovies(filtered);
    }

    // ‚úÖ Initial load
    renderFilters();
    renderRows();
  </script>
</body>
</html>
